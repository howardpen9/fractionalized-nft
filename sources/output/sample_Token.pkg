{"name":"Token","code":"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","abi":"{\"name\":\"Token\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"MasterData\",\"header\":null,\"fields\":[{\"name\":\"total_supply\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mintable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"admin_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jetton_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"jetton_wallet_code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"UploadContent\",\"header\":1491002018,\"fields\":[{\"name\":\"content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TokenMinting\",\"header\":2889080367,\"fields\":[{\"name\":\"collection_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"original_applicant\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"SafeTokenBurn\",\"header\":3823045169,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"responseAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"TokenBurnNotification\",\"header\":2078119902,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"responseAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"customPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenTransferInternal\",\"header\":395134233,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenBurn\",\"header\":1499400124,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"TokenUpdateContent\",\"header\":201882270,\"fields\":[{\"name\":\"content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"WalletData\",\"header\":null,\"fields\":[{\"name\":\"balance\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"master\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Fractionalize\",\"header\":4066592985,\"fields\":[{\"name\":\"item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"original_applicant\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Defractionalize\",\"header\":3221538545,\"fields\":[{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"GetRoyaltyParams\",\"header\":1765620048,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportRoyaltyParams\",\"header\":2831876269,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"numerator\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"denominator\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CollectionData\",\"header\":null,\"fields\":[{\"name\":\"next_item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"admin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RoyaltyParams\",\"header\":null,\"fields\":[{\"name\":\"numerator\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"denominator\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RedeemNftItem\",\"header\":2889945784,\"fields\":[{\"name\":\"new_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Transfer\",\"header\":1607220500,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"new_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"OwnershipAssigned\",\"header\":85167505,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prev_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"Excesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GetStaticData\",\"header\":801842850,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportStaticData\",\"header\":2339837749,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"GetNftData\",\"header\":null,\"fields\":[{\"name\":\"is_initialized\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"individual_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"UploadContent\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenMinting\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenBurnNotification\"}}],\"getters\":[{\"name\":\"msgValue\",\"arguments\":[{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"getJettonWalletInit\",\"arguments\":[{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}},{\"name\":\"get_wallet_address\",\"arguments\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"get_jetton_data\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"MasterData\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1045\":{\"message\":\"not locked\"},\"4429\":{\"message\":\"Invalid sender\"},\"13650\":{\"message\":\"Invalid bounced message\"},\"16059\":{\"message\":\"Invalid value\"},\"17062\":{\"message\":\"Invalid amount\"},\"19671\":{\"message\":\"locked\"},\"21994\":{\"message\":\"Only admin can upload content\"},\"22185\":{\"message\":\"not from NFT Item\"},\"26686\":{\"message\":\"Only admin can mint tokens\"},\"38283\":{\"message\":\"not from Jetton Token\"},\"49280\":{\"message\":\"not owner\"},\"49469\":{\"message\":\"not from collection\"},\"50669\":{\"message\":\"not enough ton\"},\"53832\":{\"message\":\"Only wallet can burn tokens\"},\"62176\":{\"message\":\"Invalid total supply after burn\"},\"62742\":{\"message\":\"non-sequential NFTs\"},\"62972\":{\"message\":\"Invalid balance\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[{"name":"admin","type":{"kind":"simple","type":"address","optional":false}},{"name":"collection_address","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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"}},"sources":{"sources/jettonToken.tact":"CnN0cnVjdCBNYXN0ZXJEYXRhIHsKICAgIHRvdGFsX3N1cHBseTogSW50OwogICAgbWludGFibGU6IEJvb2w7CiAgICBhZG1pbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgamV0dG9uX2NvbnRlbnQ6IENlbGw/OwogICAgamV0dG9uX3dhbGxldF9jb2RlOiBDZWxsOwp9CgptZXNzYWdlIFVwbG9hZENvbnRlbnQgewogICAgY29udGVudDogQ2VsbDsKfQoKbWVzc2FnZSBUb2tlbk1pbnRpbmcgewogICAgY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgb3JpZ2luYWxfYXBwbGljYW50OiBBZGRyZXNzOwp9CgptZXNzYWdlIFNhZmVUb2tlbkJ1cm4gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZUFkZHJlc3M6IEFkZHJlc3M/Owp9CgptZXNzYWdlKDB4N2JkZDk3ZGUpIFRva2VuQnVybk5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBvd25lcjogQWRkcmVzczsKICAgIHJlc3BvbnNlQWRkcmVzczogQWRkcmVzcz87Cn0KCmNvbnRyYWN0IFRva2VuIHsKICAgIHRvdGFsX3N1cHBseTogSW50IGFzIGNvaW5zOwogICAgbWludGFibGU6IEJvb2w7CiAgICBhZG1pbjogQWRkcmVzczsKICAgIGNvbGxlY3Rpb25fYWRkcmVzczogQWRkcmVzczsKICAgIGNvbnRlbnQ6IENlbGw/OwoKICAgIGpldHRva2VuX3Rva2VuX3VpbnQ6IEludCBhcyBjb2lucyAgPSAxMDAwICogMTAwMDAwMDAwMDsgLy8gVE9ETzogVGhpcyBlcXVhbCB0byAxMDAgVE9LRU5TIChTaW5jZSB3ZSBoYXZlIDkgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50KQoKICAgIGluaXQoYWRtaW46IEFkZHJlc3MsIGNvbGxlY3Rpb25fYWRkcmVzczogQWRkcmVzcykgewogICAgICAgIHNlbGYudG90YWxfc3VwcGx5ID0gMDsKICAgICAgICBzZWxmLmFkbWluID0gYWRtaW47CiAgICAgICAgc2VsZi5taW50YWJsZSA9IHRydWU7CiAgICAgICAgc2VsZi5jb2xsZWN0aW9uX2FkZHJlc3MgPSBjb2xsZWN0aW9uX2FkZHJlc3M7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFVwbG9hZENvbnRlbnQpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLmFkbWluLCAiT25seSBhZG1pbiBjYW4gdXBsb2FkIGNvbnRlbnQiKTsKICAgICAgICBzZWxmLmNvbnRlbnQgPSBtc2cuY29udGVudDsKICAgICAgICBzZWxmLmZvcndhcmQoCiAgICAgICAgICAgIHNlbGYuYWRtaW4sCiAgICAgICAgICAgICJTdWNjZXNzIi5hc0NvbW1lbnQoKSwKICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgIG51bGwKICAgICAgICApOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBUb2tlbk1pbnRpbmcpIHsgLy8gMHhhYzMzZGUyZgogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYuY29sbGVjdGlvbl9hZGRyZXNzLCAiT25seSBhZG1pbiBjYW4gbWludCB0b2tlbnMiKTsKICAgICAgICBzZWxmLm1pbnRfamV0dG9uKG1zZy5vcmlnaW5hbF9hcHBsaWNhbnQsIHNlbGYuamV0dG9rZW5fdG9rZW5fdWludCwgc2VsZi5hZG1pbik7CiAgICB9CgogICAgZnVuIG1pbnRfamV0dG9uKHRvOiBBZGRyZXNzLCBhbW91bnQ6IEludCwgcmVzcG9uc2VBZGRyZXNzOiBBZGRyZXNzKSB7CiAgICAgICAgLy8gVXBkYXRlIHRvdGFsIHN1cHBseQogICAgICAgIHNlbGYudG90YWxfc3VwcGx5ID0gc2VsZi50b3RhbF9zdXBwbHkgKyBhbW91bnQ7CgogICAgICAgIC8vIENyZWF0ZSBtZXNzYWdlCiAgICAgICAgbGV0IHdpbml0OiBTdGF0ZUluaXQgPSBzZWxmLmdldEpldHRvbldhbGxldEluaXQodG8pOwogICAgICAgIGxldCB3YWxsZXRBZGRyZXNzOiBBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzKHdpbml0KTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogd2FsbGV0QWRkcmVzcywgCiAgICAgICAgICAgIHZhbHVlOiAwLCAKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUgKyBTZW5kSWdub3JlRXJyb3JzLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVySW50ZXJuYWx7IAogICAgICAgICAgICAgICAgcXVlcnlJZDogMCwKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgZnJvbTogbXlBZGRyZXNzKCksCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogdG8sCiAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IDAsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKQogICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICBjb2RlOiB3aW5pdC5jb2RlLAogICAgICAgICAgICBkYXRhOiB3aW5pdC5kYXRhCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFRva2VuQnVybk5vdGlmaWNhdGlvbikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYuZ2V0X3dhbGxldF9hZGRyZXNzKG1zZy5vd25lciksICJPbmx5IHdhbGxldCBjYW4gYnVybiB0b2tlbnMiKTsKICAgICAgICByZXF1aXJlKG1zZy5hbW91bnQgPT0gc2VsZi5qZXR0b2tlbl90b2tlbl91aW50LCAiSW52YWxpZCBhbW91bnQiKTsKICAgICAgICByZXF1aXJlKHNlbGYudG90YWxfc3VwcGx5IC0gbXNnLmFtb3VudCA+PSAwLCAiSW52YWxpZCB0b3RhbCBzdXBwbHkgYWZ0ZXIgYnVybiIpOwogICAgICAgIAogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmNvbGxlY3Rpb25fYWRkcmVzcywKICAgICAgICAgICAgdmFsdWU6IHNlbGYubXNnVmFsdWUoY3R4LnZhbHVlKSwKICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogRGVmcmFjdGlvbmFsaXpleyBzZW5kZXI6IG1zZy5vd25lciB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CgogICAgICAgIHNlbGYuYnVybihtc2cuYW1vdW50LCBtc2cucXVlcnlJZCwgbXNnLm93bmVyKTsKICAgIH0KCiAgICBnZXQgZnVuIG1zZ1ZhbHVlKHZhbHVlOiBJbnQpOiBJbnQgewogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gdmFsdWU7CiAgICAgICAgbGV0IHRvbkJhbGFuY2VCZWZvcmVNc2c6IEludCA9IG15QmFsYW5jZSgpIC0gbXNnVmFsdWU7CiAgICAgICAgbGV0IHN0b3JhZ2VGZWU6IEludCA9IG1pblRvbnNGb3JTdG9yYWdlIC0gbWluKHRvbkJhbGFuY2VCZWZvcmVNc2csIG1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBtc2dWYWx1ZSA9IG1zZ1ZhbHVlIC0gKHN0b3JhZ2VGZWUgKyBnYXNDb25zdW1wdGlvbik7CiAgICAgICAgcmV0dXJuIG1zZ1ZhbHVlOwogICAgfQoKICAgIGZ1biBidXJuKGJ1cm5BbW91bnQ6IEludCwgcXVlcnlJZDogSW50LCBwcmV2aW91c19vd25lckFkZHJlc3M6IEFkZHJlc3MpIHsKICAgICAgICAvLyBVcGRhdGUgdG90YWwgc3VwcGx5CiAgICAgICAgc2VsZi50b3RhbF9zdXBwbHkgPSBzZWxmLnRvdGFsX3N1cHBseSAtIGJ1cm5BbW91bnQ7CgogICAgICAgIC8vIENyZWF0ZSBtZXNzYWdlLCByZXR1cm4gdG8gdGhlIEpldHRvbldhbGxldCBBZGRyZXNzCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYuZ2V0X3dhbGxldF9hZGRyZXNzKHByZXZpb3VzX293bmVyQWRkcmVzcyksCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICB2YWx1ZTogdG9uKCIwLjAwMDAwMDEiKSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogVG9rZW5FeGNlc3Nlc3sKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfSAKCiAgICBnZXQgZnVuIGdldEpldHRvbldhbGxldEluaXQoYWRkcmVzczogQWRkcmVzcyk6IFN0YXRlSW5pdCB7CiAgICAgICAgcmV0dXJuIGluaXRPZiBKZXR0b25EZWZhdWx0V2FsbGV0KG15QWRkcmVzcygpLCBhZGRyZXNzKTsKICAgIH0KCiAgICBnZXQgZnVuIGdldF93YWxsZXRfYWRkcmVzcyhvd25lcjogQWRkcmVzcyk6IEFkZHJlc3MgewogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gc2VsZi5nZXRKZXR0b25XYWxsZXRJbml0KG93bmVyKTsKICAgICAgICByZXR1cm4gY29udHJhY3RBZGRyZXNzKHdpbml0KTsKICAgIH0KCiAgICBnZXQgZnVuIGdldF9qZXR0b25fZGF0YSgpOiBNYXN0ZXJEYXRhIHsKICAgICAgICByZXR1cm4gTWFzdGVyRGF0YSB7IAogICAgICAgICAgICB0b3RhbF9zdXBwbHk6IHNlbGYudG90YWxfc3VwcGx5LCAKICAgICAgICAgICAgbWludGFibGU6IHNlbGYubWludGFibGUsIAogICAgICAgICAgICBhZG1pbl9hZGRyZXNzOiBzZWxmLmFkbWluLCAKICAgICAgICAgICAgamV0dG9uX2NvbnRlbnQ6IHNlbGYuY29udGVudCwgCiAgICAgICAgICAgIGpldHRvbl93YWxsZXRfY29kZTogc2VsZi5nZXRKZXR0b25XYWxsZXRJbml0KHNlbGYuYWRtaW4pLmNvZGUKICAgICAgICB9OwogICAgfQoKfQoKY29udHJhY3QgSmV0dG9uRGVmYXVsdFdhbGxldCB7CiAgICBiYWxhbmNlOiBJbnQgYXMgY29pbnM7CiAgICBvd25lcjogQWRkcmVzczsKICAgIG1hc3RlcjogQWRkcmVzczsKCiAgICBqZXR0b2tlbl90b2tlbl91aW50OiBJbnQgYXMgY29pbnMgID0gMTAwMCAqIDEwMDAwMDAwMDA7IC8vIFRPRE86IFRoaXMgZXF1YWwgdG8gMTAwIFRPS0VOUyAoU2luY2Ugd2UgaGF2ZSA5IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCkKCiAgICBpbml0KG1hc3RlcjogQWRkcmVzcywgb3duZXI6IEFkZHJlc3MpIHsKICAgICAgICBzZWxmLmJhbGFuY2UgPSAwOwogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgICAgICBzZWxmLm1hc3RlciA9IG1hc3RlcjsKICAgIH0KICAgIAogICAgcmVjZWl2ZSgpe30KCiAgICByZWNlaXZlKG1zZzogVG9rZW5UcmFuc2ZlcikgewoKICAgICAgICAvLyBDaGVjayBzZW5kZXIKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAiSW52YWxpZCBzZW5kZXIiKTsKCiAgICAgICAgLy8gVXBkYXRlIGJhbGFuY2UKICAgICAgICBzZWxmLmJhbGFuY2UgPSBzZWxmLmJhbGFuY2UgLSBtc2cuYW1vdW50OwogICAgICAgIHJlcXVpcmUoc2VsZi5iYWxhbmNlID49IDAsICJJbnZhbGlkIGJhbGFuY2UiKTsKCiAgICAgICAgLy8gR2FzIGNoZWNrcwogICAgICAgIGxldCBmd2RGZWU6IEludCA9IGN0eC5uZXdSZWFkRm9yd2FyZEZlZSgpOwogICAgICAgIGxldCBmd2RDb3VudDogSW50ID0gMTsKICAgICAgICBpZiAobXNnLmZvcndhcmRfdG9uX2Ftb3VudCA+IDApIHsKICAgICAgICAgICAgZndkQ291bnQgPSAyOwogICAgICAgIH0KICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+IGZ3ZENvdW50ICogZndkRmVlICsgMiAqIGdhc0NvbnN1bXB0aW9uICsgbWluVG9uc0ZvclN0b3JhZ2UsICJJbnZhbGlkIHZhbHVlIik7CgogICAgICAgIC8vIFNlbmQgdG9rZW5zCiAgICAgICAgbGV0IGluaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBKZXR0b25EZWZhdWx0V2FsbGV0KHNlbGYubWFzdGVyLCBtc2cuZGVzdGluYXRpb24pOwogICAgICAgIGxldCBuZXdPd25lcl93YWxsZXRBZGRyZXNzOiBBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzKGluaXQpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBuZXdPd25lcl93YWxsZXRBZGRyZXNzLCAKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJJbnRlcm5hbHsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgZnJvbTogc2VsZi5vd25lciwKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBtc2cucmVzcG9uc2VfZGVzdGluYXRpb24sCiAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IG1zZy5mb3J3YXJkX3Rvbl9hbW91bnQsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IG1zZy5mb3J3YXJkX3BheWxvYWQKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgY29kZTogaW5pdC5jb2RlLAogICAgICAgICAgICBkYXRhOiBpbml0LmRhdGEKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVG9rZW5UcmFuc2ZlckludGVybmFsKSB7IC8vIDB4MTc4ZDQ1MTkKICAgICAgICAvLyBDaGVjayBzZW5kZXIKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIGlmIChjdHguc2VuZGVyICE9IHNlbGYubWFzdGVyKSB7CiAgICAgICAgICAgIGxldCBzaW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIEpldHRvbkRlZmF1bHRXYWxsZXQoc2VsZi5tYXN0ZXIsIG1zZy5mcm9tKTsKICAgICAgICAgICAgcmVxdWlyZShjb250cmFjdEFkZHJlc3Moc2luaXQpID09IGN0eC5zZW5kZXIsICJJbnZhbGlkIHNlbmRlciIpOwogICAgICAgIH0KCiAgICAgICAgLy8gVXBkYXRlIGJhbGFuY2UKICAgICAgICBzZWxmLmJhbGFuY2UgPSBzZWxmLmJhbGFuY2UgKyBtc2cuYW1vdW50OwogICAgICAgIHJlcXVpcmUoc2VsZi5iYWxhbmNlID49IDAsICJJbnZhbGlkIGJhbGFuY2UiKTsKCiAgICAgICAgLy8gRm9yd2FyZCB0b24KICAgICAgICBpZiAobXNnLmZvcndhcmRfdG9uX2Ftb3VudCA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLm93bmVyLAogICAgICAgICAgICAgICAgdmFsdWU6IG1zZy5mb3J3YXJkX3Rvbl9hbW91bnQsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlbk5vdGlmaWNhdGlvbnsKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgZnJvbTogbXNnLmZyb20sCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBtc2cuZm9yd2FyZF9wYXlsb2FkCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBzZWxmLm1zZ1ZhbHVlKGN0eC52YWx1ZSk7ICAvLyBHZXQgdmFsdWUgZm9yIGdhcwogICAgICAgIC8vIGxldCBmd2RGZWU6IEludCA9IGN0eC5uZXdSZWFkRm9yd2FyZEZlZSgpOwogICAgICAgIGxldCBmd2RGZWU6IEludCA9IGN0eC5yZWFkRm9yd2FyZEZlZSgpOyAKICAgICAgICBtc2dWYWx1ZSA9IG1zZ1ZhbHVlIC0gbXNnLmZvcndhcmRfdG9uX2Ftb3VudCAtIGZ3ZEZlZTsKCiAgICAgICAgLy8gQ2FzaGJhY2sKICAgICAgICBpZiAobXNnLnJlc3BvbnNlX2Rlc3RpbmF0aW9uICE9IG51bGwgJiYgbXNnVmFsdWUgPiAwKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbXNnLnJlc3BvbnNlX2Rlc3RpbmF0aW9uLAogICAgICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlbkV4Y2Vzc2VzewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICBnZXQgZnVuIG1zZ1ZhbHVlKHZhbHVlOiBJbnQpOiBJbnQgewogICAgICAgIGxldCBtc2dWYWx1ZTogSW50ID0gdmFsdWU7CiAgICAgICAgbGV0IHRvbkJhbGFuY2VCZWZvcmVNc2c6IEludCA9IG15QmFsYW5jZSgpIC0gbXNnVmFsdWU7CiAgICAgICAgbGV0IHN0b3JhZ2VGZWU6IEludCA9IG1pblRvbnNGb3JTdG9yYWdlIC0gbWluKHRvbkJhbGFuY2VCZWZvcmVNc2csIG1pblRvbnNGb3JTdG9yYWdlKTsKICAgICAgICBtc2dWYWx1ZSA9IG1zZ1ZhbHVlIC0gKHN0b3JhZ2VGZWUgKyBnYXNDb25zdW1wdGlvbik7CiAgICAgICAgcmV0dXJuIG1zZ1ZhbHVlOwogICAgfQoKICAgIC8vIFRoaXMgQnVybiBtc2cgb25seSBkZWNyZWFzZSBiYWxhbmNlIG9mIHdhbGxldCwgYnV0IG5vdCBkZWNyZWFzZSB0b3RhbCBzdXBwbHkKICAgIHJlY2VpdmUobXNnOiBUb2tlbkJ1cm4pIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOyAvLyBDaGVjayBzZW5kZXIKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5vd25lciwgIkludmFsaWQgc2VuZGVyIik7CgogICAgICAgIC8vIFVwZGF0ZSBiYWxhbmNlCiAgICAgICAgc2VsZi5iYWxhbmNlID0gc2VsZi5iYWxhbmNlIC0gbXNnLmFtb3VudDsKICAgICAgICByZXF1aXJlKHNlbGYuYmFsYW5jZSA+PSAwLCAiSW52YWxpZCBiYWxhbmNlIik7CgogICAgICAgIC8vIEdhcyBjaGVja3MKICAgICAgICBsZXQgZndkRmVlOiBJbnQgPSBjdHgubmV3UmVhZEZvcndhcmRGZWUoKTsKICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+IGZ3ZEZlZSArIDIgKiBnYXNDb25zdW1wdGlvbiArIG1pblRvbnNGb3JTdG9yYWdlLCAiSW52YWxpZCB2YWx1ZSIpOwoKICAgICAgICAvLyBCdXJuIHRva2VucwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm1hc3RlciwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlbkJ1cm5Ob3RpZmljYXRpb257CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgICAgICAgICAgIG93bmVyOiBzZWxmLm93bmVyLAogICAgICAgICAgICAgICAgcmVzcG9uc2VBZGRyZXNzOiBteUFkZHJlc3MoKQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZSgiUmVkZWVtIikgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7IC8vIENoZWNrIHNlbmRlcgogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAiSW52YWxpZCBzZW5kZXIiKTsKICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSB0b24oIjAuMyIpLCAibm90IGVub3VnaCB0b24iKTsKCiAgICAgICAgLy8gVXBkYXRlIGJhbGFuY2UKICAgICAgICBzZWxmLmJhbGFuY2UgPSBzZWxmLmJhbGFuY2UgLSBzZWxmLmpldHRva2VuX3Rva2VuX3VpbnQ7CiAgICAgICAgcmVxdWlyZShzZWxmLmJhbGFuY2UgPj0gMCwgIkludmFsaWQgYmFsYW5jZSIpOwoKICAgICAgICAvLyBHYXMgY2hlY2tzCiAgICAgICAgbGV0IGZ3ZEZlZTogSW50ID0gY3R4Lm5ld1JlYWRGb3J3YXJkRmVlKCk7CiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPiBmd2RGZWUgKyAyICogZ2FzQ29uc3VtcHRpb24gKyBtaW5Ub25zRm9yU3RvcmFnZSwgIkludmFsaWQgdmFsdWUiKTsKCiAgICAgICAgLy8gQnVybiB0b2tlbnMKICAgICAgICAvLyByZXF1aXJlKG15QmFsYW5jZSA+IHRvbigiMC4xIiksICJOb3QgZW5vdWdoIHRvbiBpbiB0aGUgSmV0dG9uIFdhbGxldCBDb250cmFjdCIpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLm1hc3RlciwKICAgICAgICAgICAgdmFsdWU6IHRvbigiMC4yNSIpLCAvLyBBdCBsZWFzdCAwLjEgdG9uIGluIHRoZSBKZXR0b24gV2FsbGV0IENvbnRyYWN0CiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlbkJ1cm5Ob3RpZmljYXRpb257CiAgICAgICAgICAgICAgICBxdWVyeUlkOiAwLAogICAgICAgICAgICAgICAgYW1vdW50OiBzZWxmLmpldHRva2VuX3Rva2VuX3VpbnQsCiAgICAgICAgICAgICAgICBvd25lcjogc2VsZi5vd25lciwKICAgICAgICAgICAgICAgIHJlc3BvbnNlQWRkcmVzczogbXlBZGRyZXNzKCkKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIGJvdW5jZWQobXNnOiBTbGljZSkgewogICAgICAgIG1zZy5za2lwQml0cygzMik7IC8vIDB4RkZGRkZGRkYKICAgICAgICBsZXQgb3A6IEludCA9IG1zZy5sb2FkVWludCgzMik7CiAgICAgICAgbGV0IHF1ZXJ5SWQ6IEludCA9IG1zZy5sb2FkVWludCg2NCk7CiAgICAgICAgbGV0IGpldHRvbkFtb3VudDogSW50ID0gbXNnLmxvYWRDb2lucygpOwogICAgICAgIHJlcXVpcmUob3AgPT0gMHgxNzhkNDUxOSB8fCBvcCA9PSAweDdiZGQ5N2RlLCAiSW52YWxpZCBib3VuY2VkIG1lc3NhZ2UiKTsKCiAgICAgICAgLy8gVXBkYXRlIGJhbGFuY2UKICAgICAgICBzZWxmLmJhbGFuY2UgPSBzZWxmLmJhbGFuY2UgKyBqZXR0b25BbW91bnQ7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfd2FsbGV0X2RhdGEoKTogV2FsbGV0RGF0YSB7CiAgICAgICAgcmV0dXJuIFdhbGxldERhdGF7CiAgICAgICAgICAgIGJhbGFuY2U6IHNlbGYuYmFsYW5jZSwKICAgICAgICAgICAgb3duZXI6IHNlbGYub3duZXIsCiAgICAgICAgICAgIG1hc3Rlcjogc2VsZi5tYXN0ZXIsCiAgICAgICAgICAgIGNvZGU6IChpbml0T2YgSmV0dG9uRGVmYXVsdFdhbGxldChzZWxmLm1hc3Rlciwgc2VsZi5vd25lcikpLmNvZGUKICAgICAgICB9OwogICAgfQp9CgoKbWVzc2FnZSgweGY4YTdlYTUpIFRva2VuVHJhbnNmZXIgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZGVzdGluYXRpb246IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzczsKICAgIGN1c3RvbVBheWxvYWQ6IENlbGw/OwogICAgZm9yd2FyZF90b25fYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmb3J3YXJkX3BheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQoKbWVzc2FnZSgweDE3OGQ0NTE5KSBUb2tlblRyYW5zZmVySW50ZXJuYWwgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZnJvbTogQWRkcmVzczsKICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBBZGRyZXNzOwogICAgZm9yd2FyZF90b25fYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmb3J3YXJkX3BheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQoKbWVzc2FnZSgweDczNjJkMDljKSBUb2tlbk5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KCm1lc3NhZ2UoMHg1OTVmMDdiYykgVG9rZW5CdXJuIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgcmVzcG9uc2VfZGVzdGluYXRpb246IEFkZHJlc3M7Cn0KCgptZXNzYWdlKDB4ZDUzMjc2ZGIpIFRva2VuRXhjZXNzZXMgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBUb2tlblVwZGF0ZUNvbnRlbnQgewogICAgY29udGVudDogQ2VsbD87Cn0KCnN0cnVjdCBXYWxsZXREYXRhIHsKICAgIGJhbGFuY2U6IEludDsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgbWFzdGVyOiBBZGRyZXNzOwogICAgY29kZTogQ2VsbDsKfQoKCmV4dGVuZHMgZnVuIG5ld1JlYWRGb3J3YXJkRmVlKHNlbGY6IENvbnRleHQpOiBJbnQgewogICAgbGV0IHNjOiBTbGljZSA9IHNlbGYucmF3OwogICAgc2MubG9hZEFkZHJlc3MoKTsgIC8vIFNraXAgZGVzdGluYXRpb24KICAgIHNjLmxvYWRDb2lucygpOyAgICAvLyBTa2lwIHZhbHVlCiAgICBzYy5za2lwQml0cygxKTsgICAgLy8gU2tpcCBleHRyYWN1cnJlbmN5IGNvbGxlY3Rpb24KICAgIHNjLmxvYWRDb2lucygpOyAgICAvLyBTa2lwIGlocl9mZWUKICAgIHJldHVybiAoc2MubG9hZENvaW5zKCkgKiAzKSAvIDI7Cn0=","sources/collection.tact":"aW1wb3J0ICIuL2pldHRvblRva2VuIjsKY29uc3QgbWluVG9uc0ZvclN0b3JhZ2U6IEludCA9IHRvbigiMC4wNSIpOwpjb25zdCBnYXNDb25zdW1wdGlvbjogSW50ID0gdG9uKCIwLjA1Iik7CgptZXNzYWdlIEZyYWN0aW9uYWxpemUgewogICAgaXRlbV9pbmRleDogSW50IGFzIHVpbnQzMjsKICAgIG9yaWdpbmFsX2FwcGxpY2FudDogQWRkcmVzczsKfQoKbWVzc2FnZSBEZWZyYWN0aW9uYWxpemUgewogICAgc2VuZGVyOiBBZGRyZXNzOwp9CgptZXNzYWdlKDB4NjkzZDM5NTApIEdldFJveWFsdHlQYXJhbXMgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UoMHhhOGNiMDBhZCkgUmVwb3J0Um95YWx0eVBhcmFtcyB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIG51bWVyYXRvcjogIEludCBhcyB1aW50MTY7CiAgICBkZW5vbWluYXRvcjogSW50IGFzIHVpbnQxNjsKICAgIGRlc3RpbmF0aW9uOiBBZGRyZXNzOwp9Cgpjb250cmFjdCBOZnRDb2xsZWN0aW9uIHsKICAgIG5leHRfaXRlbV9pbmRleDogSW50IGFzIHVpbnQzMiA9IDA7CiAgICBhZG1pbjogQWRkcmVzczsKICAgIHJveWFsdHlfcGFyYW1zOiBSb3lhbHR5UGFyYW1zOyAgICAgICAgICAgICAgICAgICAgICAKICAgIGNvbGxlY3Rpb25fY29udGVudDogQ2VsbDsgICAKCiAgICBmcmFjdGlvbmFsaXplZF9uZnQ6IG1hcDxJbnQsIEludD47ICAvLyBJbmRleF9JRCA9PiBORlRfSUQKICAgIGZyYWN0aW9uYWxfaW5kZXg6IEludCBhcyB1aW50MzIgPSAwOwogICAgcmVkZWVtX2luZGV4OiAgSW50IGFzIHVpbnQzMiA9IDA7CgogICAgaW5pdChhZG1pbjogQWRkcmVzcywgY29sbGVjdGlvbl9jb250ZW50OiBDZWxsLCByb3lhbHR5X3BhcmFtczogUm95YWx0eVBhcmFtcyl7CiAgICAgICAgc2VsZi5hZG1pbiA9IGFkbWluOwogICAgICAgIHNlbGYuY29sbGVjdGlvbl9jb250ZW50ID0gY29sbGVjdGlvbl9jb250ZW50OyAKICAgICAgICBzZWxmLnJveWFsdHlfcGFyYW1zID0gcm95YWx0eV9wYXJhbXM7CiAgICB9CgogICAgcmVjZWl2ZSgiTWludCIpewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7IC8vIGdldCBzZW5kZXIgSW5mbwogICAgICAgIHNlbGYubWludChjdHguc2VuZGVyLCBzZWxmLnJlc3RUcmFuc2FjdGlvblZhbHVlKGN0eC52YWx1ZSkpOwogICAgfQoKICAgIGZ1biByZXN0VHJhbnNhY3Rpb25WYWx1ZShtc2dWYWx1ZTogSW50KTogSW50IHsKICAgICAgICBsZXQgdG9uQmFsYW5jZUJlZm9yZU1zZzogSW50ID0gbXlCYWxhbmNlKCkgLSBtc2dWYWx1ZTsKICAgICAgICBsZXQgc3RvcmFnZUZlZTogSW50ID0gbWluVG9uc0ZvclN0b3JhZ2UgLSBtaW4odG9uQmFsYW5jZUJlZm9yZU1zZywgbWluVG9uc0ZvclN0b3JhZ2UpOwogICAgICAgIHJldHVybiBtc2dWYWx1ZSAtIChzdG9yYWdlRmVlICsgZ2FzQ29uc3VtcHRpb24pOwogICAgfQoKICAgIC8vID09PT09IFByaXZhdGUgTWV0aG9kcyA9PT09PSAvLwogICAgZnVuIG1pbnQoc2VuZGVyOiBBZGRyZXNzLCBtc2dWYWx1ZTogSW50KSB7CiAgICAgICAgcmVxdWlyZShzZWxmLm5leHRfaXRlbV9pbmRleCA+PSAwLCAibm9uLXNlcXVlbnRpYWwgTkZUcyIpOwogICAgICAgIGxldCBuZnRfaW5pdDogU3RhdGVJbml0ID0gc2VsZi5nZXROZnRJdGVtSW5pdChzZWxmLm5leHRfaXRlbV9pbmRleCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3MobmZ0X2luaXQpLCAKICAgICAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSwgCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywKICAgICAgICAgICAgICAgIGJvZHk6IFRyYW5zZmVyewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiAwLAogICAgICAgICAgICAgICAgICAgIG5ld19vd25lcjogc2VuZGVyLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBzZWxmLmFkbWluLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBlbXB0eUNlbGwoKSwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKQogICAgICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgICAgIGNvZGU6IG5mdF9pbml0LmNvZGUsCiAgICAgICAgICAgICAgICBkYXRhOiBuZnRfaW5pdC5kYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIHNlbGYubmV4dF9pdGVtX2luZGV4ID0gc2VsZi5uZXh0X2l0ZW1faW5kZXggKyAxOwogICAgfQogICAgLy8gPT09PT0gRnJhY3Rpb25hbGl6ZWQgPT09PT0gLy8KICAgIHJlY2VpdmUobXNnOiBGcmFjdGlvbmFsaXplKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5nZXRfbmZ0X2FkZHJlc3NfYnlfaW5kZXgobXNnLml0ZW1faW5kZXgpLCAibm90IGZyb20gTkZUIEl0ZW0iKTsKCiAgICAgICAgLy8gU3RvcmUgdGhlIGluZm9ybWF0aW9uIG9mIGZyYWN0aW9uYWxpemVkIE5GVAogICAgICAgIHNlbGYuZnJhY3Rpb25hbGl6ZWRfbmZ0LnNldChtc2cuaXRlbV9pbmRleCwgc2VsZi5mcmFjdGlvbmFsX2luZGV4KTsgIC8vIFtORlRfSUQgPT4gSW5kZXhfSURdCiAgICAgICAgc2VsZi5mcmFjdGlvbmFsX2luZGV4ID0gc2VsZi5mcmFjdGlvbmFsX2luZGV4ICsgMTsgICAgICAgICAgICAgICAgICAvLyBJbmRleF9JRCsrCgogICAgICAgIC8vIENyZWF0ZSBhIG5ldyBORlQgSXRlbQogICAgICAgIGxldCB0b2tlbl9pbml0OiBTdGF0ZUluaXQgPSBpbml0T2YgVG9rZW4oc2VsZi5hZG1pbiwgbXlBZGRyZXNzKCkpOwogICAgICAgIHNlbGYuZm9yd2FyZCgKICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzKHRva2VuX2luaXQpLAogICAgICAgICAgICBUb2tlbk1pbnRpbmcgeyAgLy8gMHhhYzMzZGUyZgogICAgICAgICAgICAgICAgY29sbGVjdGlvbl9hZGRyZXNzOiBteUFkZHJlc3MoKSwgCiAgICAgICAgICAgICAgICBvcmlnaW5hbF9hcHBsaWNhbnQ6IG1zZy5vcmlnaW5hbF9hcHBsaWNhbnQKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgIHRva2VuX2luaXQKICAgICAgICApOwogICAgfQoKICAgIC8vIFNvbWVvbmUncyBKZXR0b24gV2FsbGV0IHdpbGwgaGF2ZSBKZXR0b24gVG9rZW4gYW5kIHdhbnQgdG8gcmVkZWVtIGl0LgogICAgcmVjZWl2ZShtc2c6IERlZnJhY3Rpb25hbGl6ZSkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYuZ2V0VG9rZW5BZGRyZXNzKCksICJub3QgZnJvbSBKZXR0b24gVG9rZW4iKTsKCiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIHJlY29yZAogICAgICAgIGxldCByZWRlZW1fbmZ0X2lkOiBJbnQgPSBzZWxmLmZyYWN0aW9uYWxpemVkX25mdC5nZXQoc2VsZi5yZWRlZW1faW5kZXgpISE7CiAgICAgICAgc2VsZi5mcmFjdGlvbmFsaXplZF9uZnQuc2V0KHNlbGYucmVkZWVtX2luZGV4LCBudWxsKTsgLy8gVE9ETzogR2FzIGNvbnN1bXB0aW9uIHdpbGwgaW5jcmVhc2Ugb3Igbm90PyAKICAgICAgICBzZWxmLnJlZGVlbV9pbmRleCA9IHNlbGYucmVkZWVtX2luZGV4ICsgMTsKCiAgICAgICAgc2VsZi5mb3J3YXJkKAogICAgICAgICAgICBzZWxmLmdldF9uZnRfYWRkcmVzc19ieV9pbmRleChyZWRlZW1fbmZ0X2lkKSEhLAogICAgICAgICAgICBSZWRlZW1OZnRJdGVtIHsgbmV3X293bmVyOiBtc2cuc2VuZGVyIH0udG9DZWxsKCksCiAgICAgICAgICAgIGZhbHNlLAogICAgICAgICAgICBudWxsCiAgICAgICAgKTsKICAgIH0KCiAgICByZWNlaXZlKCl7fQogICAgcmVjZWl2ZShzdHI6IFN0cmluZykge30KICAgIHJlY2VpdmUoc2xpY2U6IFNsaWNlKSB7fQogICAgLy8gcmVjZWl2ZShib3VuY2VkOiBib3VuY2VkKXt9CiAgICAKICAgIHJlY2VpdmUobXNnOiBHZXRSb3lhbHR5UGFyYW1zKSB7ICAgCiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsgLy8gZ2V0IHNlbmRlciBJbmZvCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGN0eC5zZW5kZXIsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiA2NCwgCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIGJvZHk6IFJlcG9ydFJveWFsdHlQYXJhbXMgewogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IG1zZy5xdWVyeV9pZCwKICAgICAgICAgICAgICAgIG51bWVyYXRvcjogIHNlbGYucm95YWx0eV9wYXJhbXMubnVtZXJhdG9yLAogICAgICAgICAgICAgICAgZGVub21pbmF0b3I6IHNlbGYucm95YWx0eV9wYXJhbXMuZGVub21pbmF0b3IsCiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogc2VsZi5hZG1pbgogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7ICAgICAgICAKICAgIH0KICAgIAogICAgZ2V0IGZ1biBnZXRUb2tlbkFkZHJlc3MoKTogQWRkcmVzcyB7CiAgICAgICAgbGV0IHdpbml0OiBTdGF0ZUluaXQgPSBpbml0T2YgVG9rZW4oc2VsZi5hZG1pbiwgbXlBZGRyZXNzKCkpOwogICAgICAgIHJldHVybiBjb250cmFjdEFkZHJlc3Mod2luaXQpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLSBHZXQgRnVuY3Rpb24gIC0tLS0tLS0tLS0tLS0tLS0tLSAvLwogICAgZ2V0IGZ1biBnZXRfY29sbGVjdGlvbl9kYXRhKCk6IENvbGxlY3Rpb25EYXRheyAgICAgCiAgICAgICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgICAgIGxldCBjb2xsZWN0aW9uRGF0YVN0cmluZzogU3RyaW5nID0gc2VsZi5jb2xsZWN0aW9uX2NvbnRlbnQuYXNTbGljZSgpLmFzU3RyaW5nKCk7CiAgICAgICAgYi5hcHBlbmQoY29sbGVjdGlvbkRhdGFTdHJpbmcpOwogICAgICAgIGIuYXBwZW5kKCJtZXRhLmpzb24iKTsgLy8gWW91IGNhbiBjaGFuZ2VkIHRoaXMgeW91ciBzZWxmLgogICAgICAgIHJldHVybiBDb2xsZWN0aW9uRGF0YXsKICAgICAgICAgICAgbmV4dF9pdGVtX2luZGV4OiBzZWxmLm5leHRfaXRlbV9pbmRleCwgCiAgICAgICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogYi50b0NlbGwoKSwgCiAgICAgICAgICAgIGFkbWluOiBzZWxmLmFkbWluCiAgICAgICAgfTsKICAgIH0KCiAgICBnZXQgZnVuIGdldF9uZnRfYWRkcmVzc19ieV9pbmRleChpdGVtX2luZGV4OiBJbnQpOiBBZGRyZXNzP3sgICAgICAKICAgICAgICBsZXQgaW5pdENvZGU6IFN0YXRlSW5pdCA9IHNlbGYuZ2V0TmZ0SXRlbUluaXQoaXRlbV9pbmRleCk7CiAgICAgICAgcmV0dXJuIGNvbnRyYWN0QWRkcmVzcyhpbml0Q29kZSk7CiAgICB9CgogICAgZ2V0IGZ1biBnZXROZnRJdGVtSW5pdChpdGVtX2luZGV4OiBJbnQpOiBTdGF0ZUluaXQgewogICAgICAgIHJldHVybiBpbml0T2YgTmZ0SXRlbShteUFkZHJlc3MoKSwgaXRlbV9pbmRleCwgc2VsZi5hZG1pbiwgc2VsZi5jb2xsZWN0aW9uX2NvbnRlbnQpOwogICAgfQogICAgCiAgICBnZXQgZnVuIGdldF9uZnRfY29udGVudChpbmRleDogSW50LCBpbmRpdmlkdWFsX2NvbnRlbnQ6IENlbGwpOiBDZWxsIHsgCiAgICAgICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgICAgIGxldCBpYzogU3RyaW5nID0gaW5kaXZpZHVhbF9jb250ZW50LmFzU2xpY2UoKS5hc1N0cmluZygpOwogICAgICAgIGIuYXBwZW5kKGljKTsKICAgICAgICByZXR1cm4gYi50b0NlbGwoKTsKICAgIH0KCiAgICBnZXQgZnVuIHJveWFsdHlfcGFyYW1zKCk6IFJveWFsdHlQYXJhbXMgewogICAgICAgIHJldHVybiBzZWxmLnJveWFsdHlfcGFyYW1zOwogICAgfQoKfQoKc3RydWN0IENvbGxlY3Rpb25EYXRhIHsKICAgIG5leHRfaXRlbV9pbmRleDogSW50OwogICAgY29sbGVjdGlvbl9jb250ZW50OiBDZWxsOwogICAgYWRtaW46IEFkZHJlc3M7Cn0KCnN0cnVjdCBSb3lhbHR5UGFyYW1zIHsKICAgIG51bWVyYXRvcjogSW50OwogICAgZGVub21pbmF0b3I6IEludDsKICAgIGRlc3RpbmF0aW9uOiBBZGRyZXNzOwp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vCm1lc3NhZ2UgUmVkZWVtTmZ0SXRlbSB7CiAgICBuZXdfb3duZXI6IEFkZHJlc3M7Cn0KCmNvbnRyYWN0IE5mdEl0ZW0gewogICAgY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgaXRlbV9pbmRleDogSW50OyAKICAgIG93bmVyOiBBZGRyZXNzOwogICAgaW5kaXZpZHVhbF9jb250ZW50OiBDZWxsOwogICAgaXNfaW5pdGlhbGl6ZWQ6IEJvb2w7CiAgICBsb2NrZWQ6IEJvb2w7CiAgICAKICAgIGluaXQoY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzLCBpdGVtX2luZGV4OiBJbnQsIG93bmVyOiBBZGRyZXNzLCBpbmRpdmlkdWFsX2NvbnRlbnQ6IENlbGwpewogICAgICAgIHNlbGYuY29sbGVjdGlvbl9hZGRyZXNzID0gY29sbGVjdGlvbl9hZGRyZXNzOwogICAgICAgIHNlbGYuaXRlbV9pbmRleCA9IGl0ZW1faW5kZXg7CiAgICAgICAgc2VsZi5vd25lciA9IGNvbGxlY3Rpb25fYWRkcmVzczsKICAgICAgICBzZWxmLmluZGl2aWR1YWxfY29udGVudCA9IGluZGl2aWR1YWxfY29udGVudDsKICAgICAgICBzZWxmLmlzX2luaXRpYWxpemVkID0gZmFsc2U7CiAgICAgICAgc2VsZi5sb2NrZWQgPSBmYWxzZTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVHJhbnNmZXIpewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IGN0eC52YWx1ZTsgLy8gQ2hlY2sgdGhlIGdhc0Nvc3QgZm9yIHN0b3JhZ2UKICAgICAgICBsZXQgdG9uQmFsYW5jZUJlZm9yZU1zZzogSW50ID0gbXlCYWxhbmNlKCkgLSBtc2dWYWx1ZTsKICAgICAgICBsZXQgc3RvcmFnZUZlZTogSW50ID0gbWluVG9uc0ZvclN0b3JhZ2UgLSBtaW4odG9uQmFsYW5jZUJlZm9yZU1zZywgbWluVG9uc0ZvclN0b3JhZ2UpOwogICAgICAgIG1zZ1ZhbHVlID0gbXNnVmFsdWUgLSAoc3RvcmFnZUZlZSArIGdhc0NvbnN1bXB0aW9uKTsKCiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3duZXIsICJub3Qgb3duZXIiKTsKICAgICAgICByZXF1aXJlKHNlbGYubG9ja2VkID09IGZhbHNlLCAibG9ja2VkIik7CiAgICAgICAgaWYgKHNlbGYuaXNfaW5pdGlhbGl6ZWQgPT0gZmFsc2UpIHsgIC8vIEluaXRpYWwgVHJhbnNmZXIsIGFrYSBNaW50aW5nLgogICAgICAgICAgICBzZWxmLmlzX2luaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgc2VsZi5vd25lciA9IG1zZy5uZXdfb3duZXI7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbXNnLnJlc3BvbnNlX2Rlc3RpbmF0aW9uLAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiAgU2VuZElnbm9yZUVycm9ycyArIFNlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgICAgIGJvZHk6IEV4Y2Vzc2VzIHsgcXVlcnlfaWQ6IG1zZy5xdWVyeV9pZCB9LnRvQ2VsbCgpICAvLyAweGQ1MzI3NmRiCiAgICAgICAgICAgICAgICAvLyBib2R5OiB4e0Q1MzI3NkRCMDAwMDAwMDAwMDAwMDAwMH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKG1zZy5mb3J3YXJkX2Ftb3VudCA+IDApIHsKICAgICAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICAgICAgdG86IG1zZy5uZXdfb3duZXIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1zZy5mb3J3YXJkX2Ftb3VudCwKICAgICAgICAgICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzLCAKICAgICAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGJvZHk6IE93bmVyc2hpcEFzc2lnbmVkewogICAgICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogbXNnLnF1ZXJ5X2lkLAogICAgICAgICAgICAgICAgICAgICAgICBwcmV2X293bmVyOiAgc2VsZi5vd25lciwKICAgICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBtc2cuZm9yd2FyZF9wYXlsb2FkCiAgICAgICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICAgICAgfSk7IAogICAgICAgICAgICB9CiAgICAgICAgICAgIG1zZ1ZhbHVlID0gbXNnVmFsdWUgLSBjdHgucmVhZEZvcndhcmRGZWUoKTsgCiAgICAgICAgICAgIGlmIChtc2cucmVzcG9uc2VfZGVzdGluYXRpb24gIT0gbnVsbCkgeyAKICAgICAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7IAogICAgICAgICAgICAgICAgICAgIHRvOiBtc2cucmVzcG9uc2VfZGVzdGluYXRpb24sCiAgICAgICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbXNnVmFsdWUsCiAgICAgICAgICAgICAgICAgICAgYm9keTogRXhjZXNzZXMgeyBxdWVyeV9pZDogbXNnLnF1ZXJ5X2lkIH0udG9DZWxsKCkgLy8gMHhkNTMyNzZkYgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZWxmLm93bmVyID0gbXNnLm5ld19vd25lcjsgLy8gY2hhbmdlIGN1cnJlbnQgb3duZXIgdG8gdGhlIG5ld19vd25lcgogICAgICAgICAgICB9IAogICAgICAgIH0KICAgIH0KICAgIAogICAgcmVjZWl2ZShtc2c6IEdldFN0YXRpY0RhdGEpeyAKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnMgewogICAgICAgICAgICB0bzogY3R4LnNlbmRlciwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IDY0LCAgLy8gKHJldHVybiBtc2cgYW1vdW50IGV4Y2VwdCBnYXMgZmVlcykgCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogUmVwb3J0U3RhdGljRGF0YXsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICBpbmRleF9pZDogc2VsZi5pdGVtX2luZGV4LAogICAgICAgICAgICAgICAgY29sbGVjdGlvbjogc2VsZi5vd25lcgogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZSgiZiIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAibm90IG93bmVyIik7CiAgICAgICAgc2VsZi5sb2NrZWQgPSB0cnVlOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmNvbGxlY3Rpb25fYWRkcmVzcywKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUsIAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiBGcmFjdGlvbmFsaXplIHsKICAgICAgICAgICAgICAgIGl0ZW1faW5kZXg6IHNlbGYuaXRlbV9pbmRleCwKICAgICAgICAgICAgICAgIG9yaWdpbmFsX2FwcGxpY2FudDogY3R4LnNlbmRlcgogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFJlZGVlbU5mdEl0ZW0pIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLmNvbGxlY3Rpb25fYWRkcmVzcywgIm5vdCBmcm9tIGNvbGxlY3Rpb24iKTsKICAgICAgICByZXF1aXJlKHNlbGYubG9ja2VkID09IHRydWUsICJub3QgbG9ja2VkIik7CiAgICAgICAgc2VsZi5sb2NrZWQgPSBmYWxzZTsKICAgICAgICBzZWxmLm93bmVyID0gbXNnLm5ld19vd25lcjsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogbXNnLm5ld19vd25lciwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIGJvZHk6ICJDb25ncmF0cyIuYXNDb21tZW50KCkKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0gR2V0IEZ1bmN0aW9uICAtLS0tLS0tLS0gLy8KICAgIGdldCBmdW4gZ2V0X25mdF9kYXRhKCk6IEdldE5mdERhdGEgewogICAgICAgIGxldCBiOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgICAgICBsZXQgY29sbGVjdGlvbkRhdGE6IFN0cmluZyA9IHNlbGYuaW5kaXZpZHVhbF9jb250ZW50LmFzU2xpY2UoKS5hc1N0cmluZygpOwogICAgICAgIGIuYXBwZW5kKGNvbGxlY3Rpb25EYXRhKTsKICAgICAgICBiLmFwcGVuZChzZWxmLml0ZW1faW5kZXgudG9TdHJpbmcoKSk7CiAgICAgICAgYi5hcHBlbmQoIi5qc29uIik7CgogICAgICAgIHJldHVybiBHZXROZnREYXRhIHsKICAgICAgICAgICAgaXNfaW5pdGlhbGl6ZWQ6IHNlbGYuaXNfaW5pdGlhbGl6ZWQsIAogICAgICAgICAgICBpbmRleDogc2VsZi5pdGVtX2luZGV4LCAKICAgICAgICAgICAgY29sbGVjdGlvbl9hZGRyZXNzOiBzZWxmLmNvbGxlY3Rpb25fYWRkcmVzcywgCiAgICAgICAgICAgIG93bmVyX2FkZHJlc3M6IHNlbGYub3duZXIsCiAgICAgICAgICAgIGluZGl2aWR1YWxfY29udGVudDogYi50b0NlbGwoKQogICAgICAgIH07CiAgICB9Cn0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwovLyBbQ29sbGVjdGlvbiBDb250cmFjdF0gLT4gVHJhbnNmZXIgLT4gT3duZXJzaGlwQXNzaWduZWQgLT4gTkZURXhjZXNzZXMKbWVzc2FnZSgweDVmY2MzZDE0KSBUcmFuc2ZlciB7IAogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7ICAgICAgICAgICAgCiAgICBuZXdfb3duZXI6IEFkZHJlc3M7IAogICAgcmVzcG9uc2VfZGVzdGluYXRpb246IEFkZHJlc3M7IAogICAgY3VzdG9tX3BheWxvYWQ6IENlbGw/OyAKICAgIGZvcndhcmRfYW1vdW50OiBJbnQgYXMgY29pbnM7IAogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7IAp9CgptZXNzYWdlKDB4MDUxMzhkOTEpIE93bmVyc2hpcEFzc2lnbmVkewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBwcmV2X293bmVyOiBBZGRyZXNzOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7IAp9CgptZXNzYWdlKDB4ZDUzMjc2ZGIpIEV4Y2Vzc2VzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlKDB4MmZjYjI2YTIpIEdldFN0YXRpY0RhdGEgeyAKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlKDB4OGI3NzE3MzUpIFJlcG9ydFN0YXRpY0RhdGF7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIGluZGV4X2lkOiBJbnQ7CiAgICBjb2xsZWN0aW9uOiBBZGRyZXNzOwp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDdXN0b21pemVkIE1lc3NhZ2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8Kc3RydWN0IEdldE5mdERhdGEgeyAKICAgIGlzX2luaXRpYWxpemVkOiBCb29sOwogICAgaW5kZXg6IEludDsKICAgIGNvbGxlY3Rpb25fYWRkcmVzczogQWRkcmVzczsgCiAgICBvd25lcl9hZGRyZXNzOiBBZGRyZXNzOwogICAgaW5kaXZpZHVhbF9jb250ZW50OiBDZWxsOwp9"},"compiler":{"name":"tact","version":"1.1.1","parameters":"{\"entrypoint\":\"./sources/collection.tact\",\"options\":{}}"}}